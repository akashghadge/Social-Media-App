(this["webpackJsonpsocial-app"]=this["webpackJsonpsocial-app"]||[]).push([[0],{111:function(e,t,c){},112:function(e,t,c){},158:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),l=c(12),n=c.n(l),o=(c(111),c(112),c(215)),r=c(190),i=c(0);var d=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(o.a,{anchorOrigin:{vertical:e.vertical,horizontal:e.horizontal},open:e.open,onClick:function(){e.handleClickCloseSnackBar()},autoHideDuration:1,children:Object(i.jsx)(r.a,{style:{backgroundColor:e.backgroundColor,color:e.color},message:e.text})})}),j=c(4);var b=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"p-4 bg-transparent",children:[Object(i.jsx)("div",{className:"page-header",children:Object(i.jsx)("h2",{className:"heading-auth",children:e.heading})}),Object(i.jsx)("nav",{"aria-label":"breadcrumb",children:Object(i.jsxs)("ol",{className:"breadcrumb",children:[Object(i.jsx)("li",{className:"breadcrumb-item",children:Object(i.jsx)(j.b,{to:`/${e.url}`,className:"navlink-auth",children:e.base})}),Object(i.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:e.heading})]})})]})}),m=c(7),h=c.n(m),x=c(5),O=c.n(x);var u={baseURL:"/",async getAllUsers(){const{data:e}=await O.a.get(this.baseURL+"api/user/all-users-homepage");return e},async getAllPosts(){const{data:e}=await O.a.get(this.baseURL+"api/post/all");return e},async AddLike(e){return O.a.post(this.baseURL+"api/post/like/add",e)},async RemoveLike(e){return O.a.post(this.baseURL+"api/post/like/remove",e)},async getComments(e){const{data:t}=await O.a.post(this.baseURL+"api/post/comment",e);return t.comments},async AddComment(e){return O.a.post(this.baseURL+"api/post/comment/add",e)},async RemoveComment(e){return O.a.post(this.baseURL+"api/post/comment/remove",e)},async LogIn(e){return O.a.post(this.baseURL+"api/user/in",e)},async CreateUser(e){return O.a.post(this.baseURL+"api/user/create",e)},PostImage:async e=>fetch("https://api.cloudinary.com/v1_1/asghadge/image/upload",{method:"post",body:e}),async RequestForgetPassword(e){return O.a.post(this.baseURL+"api/mail/forget-password",e)},async MatchOTP(e){return O.a.post(this.baseURL+"api/mail/verification",e)},async changePasswordAPI(e){return O.a.post(this.baseURL+"api/mail/reset-password",e)}};var p=()=>{let[e,t]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[c,s]=Object(a.useState)(!1),[l,n]=Object(a.useState)(!1),[o,r]=Object(a.useState)({email:"",otp:0});function j(e){const{name:t,value:c}=e.target;r((e=>({...e,[t]:c})))}return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{heading:"Mail Verification",base:"Home",url:""}),c?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"cotainer-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"container-fluid px-5",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h1",{className:"heading-auth mt-2 mb-4",children:"Mail Verification"}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"form-floating mb-3 col-12 col-md-6 px-1",children:[Object(i.jsx)("input",{type:"email",className:"form-control",id:"emailMatchOTP",name:"email",placeholder:"",value:o.email,onChange:j,placeholder:".",required:!0}),Object(i.jsx)("label",{htmlFor:"emailMatchOTP",children:"Enter Email"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3 col-12 col-md-6 px-1",children:[Object(i.jsx)("input",{type:"number",name:"otp",className:"form-control",id:"otpMatchOTP",placeholder:"123456",value:o.otp,onChange:j,required:!0}),Object(i.jsx)("label",{htmlFor:"otpMatchOTP",children:"Enter OTP"})]})]}),Object(i.jsx)("div",{className:"text-center mt-3 d-flex justify-content-center",children:Object(i.jsx)("button",{className:"btn btn-outline-success d-block w-50 w-md-25",type:"submit",onClick:function(){s(!0),u.MatchOTP(o).then((e=>{let c="red";e.flag&&(c="green"),t({text:e.m,backgroundColor:c}),n(!0),s(!1)})).catch((()=>{t({text:"OTP mismatch",backgroundColor:"red"}),s(!1),n(!0)}))},children:"Match OTP"})})]})})}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:e.backgroundColor,color:"white",open:l,text:e.text,handleClickCloseSnackBar:function(){n(!1)}})]})]})},g=c(9);var f=()=>{let e=Object(g.f)(),[t,c]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[s,l]=Object(a.useState)(!1),[n,o]=Object(a.useState)(!1),[r,j]=Object(a.useState)(null),[b,m]=Object(a.useState)({fname:"",lname:"",email:"",username:"",password:"",PicUrl:""});function x(e){const{id:t,value:c}=e.target;m((e=>({...e,[t]:c})))}return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h1",{className:"heading-auth mt-2 mb-4",children:"Sign Up"}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-12 col-md-6 px-1",children:[Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",id:"fname",placeholder:"john",value:b.fname,onChange:x,required:!0}),Object(i.jsx)("label",{htmlFor:"fname",children:"First name"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"john@example.com",style:{boxShadow:"none"},onChange:x,value:b.email,required:!0}),Object(i.jsx)("label",{htmlFor:"email",style:{marginRight:"1.4rem"},children:"Email"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"password",className:"form-control",placeholder:"*",id:"password",onChange:x,style:{boxShadow:"none"},value:b.password,required:!0}),Object(i.jsx)("label",{htmlFor:"password",children:"Password"})]})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6 px-1",children:[Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",id:"lname",placeholder:"doe",value:b.lname,onChange:x,style:{boxShadow:"none"},required:!0}),Object(i.jsx)("label",{htmlFor:"lname",children:"Last name"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"akash@3",style:{boxShadow:"none"},onChange:x,value:b.username,required:!0}),Object(i.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"ProfilePic",class:"upload-box-auth mt-2",children:"Upload"}),Object(i.jsx)("input",{type:"file",id:"ProfilePic",className:"upload-box-auth",onChange:function(e){j(e.target.files[0])},accept:"image/*"}),Object(i.jsx)("span",{className:"text-sm text-muted",children:"Profile Picture"})]})]})]}),n?Object(i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})}):Object(i.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(i.jsx)("button",{className:"btn btn-default d-block w-50",onClick:function(){if(b.fname.length<3||b.lname.length<3?(c({text:"First and Last Name min have 3 letters",backgroundColor:"red"}),l(!0),1):(b.username.length<6||b.password.length<6)&&(c({text:"Username and password have min 6 letters",backgroundColor:"red"}),l(!0),1))return;o(!0);let t=function(){let e=new FormData;return e.append("file",r),e.append("upload_preset","social-media"),e.append("cloud_name","asghadge"),e}();u.PostImage(t).then((e=>e.json())).then((t=>{!function(e){const t=e;m((e=>({...e,PicUrl:t})))}(t.url),u.CreateUser(b).then((()=>{e.push("/profile")})).catch((()=>{c({text:"Error Occured",backgroundColor:"red"}),l(!0),o(!1)}))})).catch((()=>{c({text:"Error Occured",backgroundColor:"red"}),l(!0),o(!1)}))},children:"Create Account"})})]}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:t.backgroundColor,color:"white",open:s,text:t.text,handleClickCloseSnackBar:function(){l(!1)}})]})};var v=e=>{let[t,c]=Object(a.useState)(!1),[s,l]=Object(a.useState)("");return Object(i.jsx)(i.Fragment,{children:t?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsxs)("div",{className:"py-4",children:[Object(i.jsxs)("div",{className:"form-floating",children:[Object(i.jsx)("input",{id:"forget-password",type:"email",className:"form-control",placeholder:"john@gmail.com",value:s,onChange:function(e){l(e.target.value)}}),Object(i.jsx)("label",{htmlFor:"forget-password",children:"Please Enter Email "})]}),Object(i.jsx)("div",{className:"text-center mt-3",children:Object(i.jsx)("button",{className:"btn btn-outline-success",onClick:function(t){c(!0);const a={email:s};u.RequestForgetPassword(a).then((t=>{e.openSnackBarForgetPassword(1),c(!1)})).catch((t=>{e.openSnackBarForgetPassword(0),c(!1)}))},children:"Send Link"})})]})})})})};var N=()=>{let e=Object(g.f)(),[t,c]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[s,l]=Object(a.useState)(!1),[n,o]=Object(a.useState)(!1),[r,j]=Object(a.useState)({username:"",password:""});function b(e){const{id:t,value:c}=e.target;j((e=>({...e,[t]:c})))}return Object(i.jsx)(i.Fragment,{children:s?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{className:"heading-auth mt-2 mb-4",children:"Sign In"}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"akash@3",onChange:b,value:r.username,required:!0}),Object(i.jsx)("label",{htmlFor:"username",children:"Enter Username"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"password",className:"form-control",id:"password",onChange:b,placeholder:"*",value:r.password,required:!0}),Object(i.jsx)("label",{htmlFor:"password",children:"Enter Password"})]}),Object(i.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(i.jsx)("button",{className:"btn btn-default d-block w-50",onClick:function(t){t.preventDefault(),l(!0),u.LogIn(r).then((t=>{let a=t.data.jwt;localStorage.setItem("token",a),j({username:"",password:""}),c({text:`hello ${r.username}`,backgroundColor:"green"}),o(!0),l(!1),e.push("/profile")})).catch((e=>{c({text:e.response.data,backgroundColor:"red"}),o(!0),l(!1)}))},children:"Login"})}),Object(i.jsx)("p",{className:"modal-button text-center d-block","data-bs-toggle":"modal","data-bs-target":"#forget-modal",children:"Forget Password"}),Object(i.jsx)("div",{class:"modal fade",id:"forget-modal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(i.jsxs)("div",{class:"modal-content",children:[Object(i.jsxs)("div",{class:"modal-header",children:[Object(i.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Forget Password"}),Object(i.jsx)("button",{type:"button",class:"btn-close btn-outline-danger","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(i.jsx)("div",{class:"modal-body",children:Object(i.jsx)(v,{openSnackBarForgetPassword:function(e){e?(c({text:"Link Send Successfully please check email",backgroundColor:"green"}),o(!0)):(c({text:"Fail send link please enter valid email",backgroundColor:"red"}),o(!0))}})})]})})}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:t.backgroundColor,color:"white",open:n,text:t.text,handleClickCloseSnackBar:function(){o(!1)}})]})})},k=c.p+"static/media/login.7f88e85e.jpg";var w=()=>{let[e,t]=Object(a.useState)(1);function c(e){t(e)}return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-md-6 px-0",children:Object(i.jsx)("img",{src:k,className:"img-fluid d-none d-md-block h-100"})}),Object(i.jsxs)("div",{className:"col-12 col-md-6 bg-transparent",children:[Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("button",{className:"btn btn-outline-default active",name:"signup","aria-pressed":"true",value:"0",onClick:e=>c(0),children:"Sign Up"}),Object(i.jsx)("button",{className:"btn btn-outline-default active","aria-pressed":"true",name:"signin",value:"1",onClick:e=>c(1),children:"Sign In"})]}),Object(i.jsx)("div",{className:"card m-3",children:Object(i.jsx)("div",{className:"card-body",children:1===e?Object(i.jsx)(N,{}):Object(i.jsx)(f,{})})})]})]})})},C=c(192),y=c(197),S=c(198),F=c(193),P=c(200),_=c(196),U=c(214),B=c(212),I=c(69),L=c.n(I),M=c(67),E=c.n(M),Y=c(68),R=c.n(Y),$=c(99),z=c.n($),D=c(194),A=c(195),T=c(199),q=c(15);const H=Object(C.a)((e=>({AppBar:{color:"#ffffff",backgroundColor:"#220080"},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2),"&:hover":{cursor:"pointer"}},title:{textAlign:"center",[e.breakpoints.up("sm")]:{display:"block"}},sectionDesktop:{display:"none",[e.breakpoints.up("md")]:{display:"flex"}},sectionMobile:{display:"flex",[e.breakpoints.up("md")]:{display:"none"}},navlink:{textDecoration:"none",color:"inherit","&:hover":{color:"inherit"}}})));function J(){let[e,t]=Object(a.useState)(0);const c=Object(q.c)((e=>e.User));Object(a.useEffect)((()=>{console.log("use effect");let e=localStorage.getItem("token");if(null==e)t(0);else{const c="/api/notification/all";O.a.post(c,{token:e}).then((e=>{null===e.data||0===e.data.length?t(0):t(e.data.length)}))}}),[c._id]);const l=H(),[n,o]=s.a.useState(null),[r,d]=s.a.useState(null),b=Boolean(n),m=Boolean(r),h=e=>{o(e.currentTarget)},x=()=>{d(null)},u=()=>{o(null),x()},p="primary-search-account-menu",g=Object(i.jsxs)(B.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:p,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:u,children:[Object(i.jsx)(j.b,{exact:!0,to:"/profile",className:l.navlink,children:Object(i.jsx)(U.a,{onClick:u,children:"Profile"})}),Object(i.jsx)(j.b,{exact:!0,to:"/settings",className:l.navlink,children:Object(i.jsx)(U.a,{onClick:u,children:"My account"})}),Object(i.jsx)(j.b,{exact:!0,to:"/sign",className:l.navlink,children:Object(i.jsx)(U.a,{onClick:u,children:"Sign In/Up"})})]}),f="primary-search-account-menu-mobile",v=Object(i.jsxs)(B.a,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},id:f,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:x,children:[Object(i.jsx)(j.b,{exact:!0,to:"/",className:l.navlink,children:Object(i.jsxs)(U.a,{children:[Object(i.jsx)(F.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(i.jsx)(D.a,{})}),Object(i.jsx)("p",{className:"mb-0",children:"Home"})]})}),Object(i.jsx)(j.b,{exact:!0,to:"/create-post",className:l.navlink,children:Object(i.jsxs)(U.a,{children:[Object(i.jsx)(F.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(i.jsx)(A.a,{})}),Object(i.jsx)("p",{className:"mb-0",children:"Create"})]})}),Object(i.jsx)(j.b,{exact:!0,to:"/messages",className:l.navlink,children:Object(i.jsxs)(U.a,{children:[Object(i.jsx)(F.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(i.jsx)(_.a,{badgeContent:0,color:"secondary",children:Object(i.jsx)(E.a,{})})}),Object(i.jsx)("p",{className:"mb-0",children:"Messages"})]})}),Object(i.jsx)(j.b,{exact:!0,to:"/notifications",className:l.navlink,children:Object(i.jsxs)(U.a,{children:[Object(i.jsx)(F.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(i.jsx)(_.a,{badgeContent:e,color:"secondary",children:Object(i.jsx)(R.a,{})})}),Object(i.jsx)("p",{className:"mb-0",children:"Notifications"})]})}),Object(i.jsx)(j.b,{exact:!0,to:"/profile",className:l.navlink,children:Object(i.jsxs)(U.a,{onClick:h,children:[Object(i.jsx)(F.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(i.jsx)(L.a,{})}),Object(i.jsx)("p",{className:"mb-0",children:"Profile"})]})})]});return Object(i.jsxs)("div",{className:l.grow,children:[Object(i.jsx)(y.a,{position:"relative",className:l.AppBar,children:Object(i.jsxs)(S.a,{children:[Object(i.jsx)(j.b,{exact:!0,to:"/",className:l.navlink,children:Object(i.jsx)(F.a,{edge:"start",className:l.menuButton,color:"inherit","aria-label":"open drawer",children:Object(i.jsx)(T.a,{})})}),Object(i.jsx)(P.a,{className:l.title,variant:"h6",noWrap:!0,children:"Social-Media"}),Object(i.jsx)("div",{className:l.grow}),Object(i.jsxs)("div",{className:l.sectionDesktop,children:[Object(i.jsx)(j.b,{exact:!0,to:"/",className:l.navlink,children:Object(i.jsx)(F.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(i.jsx)(_.a,{color:"secondary",children:Object(i.jsx)(D.a,{})})})}),Object(i.jsx)(j.b,{exact:!0,to:"/create-post",className:l.navlink,children:Object(i.jsx)(F.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(i.jsx)(_.a,{color:"secondary",children:Object(i.jsx)(A.a,{})})})}),Object(i.jsx)(j.b,{exact:!0,to:"/messages",className:l.navlink,children:Object(i.jsx)(F.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(i.jsx)(_.a,{badgeContent:0,color:"secondary",children:Object(i.jsx)(E.a,{})})})}),Object(i.jsx)(j.b,{exact:!0,to:"/notifications",className:l.navlink,children:Object(i.jsx)(F.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(i.jsx)(_.a,{badgeContent:e,color:"secondary",children:Object(i.jsx)(R.a,{})})})}),Object(i.jsx)(F.a,{edge:"end","aria-label":"account of current user","aria-controls":p,"aria-haspopup":"true",onClick:h,color:"inherit",children:Object(i.jsx)(L.a,{})})]}),Object(i.jsx)("div",{className:l.sectionMobile,children:Object(i.jsx)(F.a,{"aria-label":"show more","aria-controls":f,"aria-haspopup":"true",onClick:e=>{d(e.currentTarget)},color:"inherit",children:Object(i.jsx)(z.a,{})})})]})}),v,g]})}var V=()=>new Promise((function(e,t){let c=localStorage.getItem("token");O.a.post("/api/dashboard/me",{token:c}).then((t=>{e(t.data)})).catch((e=>{t(e)}))}));var W=()=>{let e=Object(g.f)(),[t,c]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[s,l]=Object(a.useState)(!1),[n,o]=Object(a.useState)({photo:"",desc:"",postedById:""}),[r,j]=Object(a.useState)(null),[m,x]=Object(a.useState)(!1),[O,u]=Object(a.useState)({});return Object(a.useEffect)((()=>{x(!0),V().then((e=>{u(e),x(!1)})).catch((t=>{e.push("/sign"),x(!1)}))}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{heading:"Upload Post",base:"Dashboard",url:"profile"}),Object(i.jsx)("div",{className:"container-fluid px-5",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body row",children:[Object(i.jsx)("h1",{className:"heading-auth mt-2 mb-4",children:"Create Post"}),Object(i.jsxs)("div",{className:"col-12 col-md-6 mb-3 container-center-all",children:[Object(i.jsx)("span",{className:"text-dash",children:"Share Image"}),Object(i.jsx)("label",{for:"postPic",class:"input-file-dash-create-post",children:"Upload Image"}),Object(i.jsx)("input",{type:"file",id:"postPic",className:"input-file-dash-create-post",onChange:function(e){j(e.target.files[0])},accept:"image/*"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3 col-12 col-md-6",children:[Object(i.jsx)("textarea",{type:"text",className:"form-control",id:"desc",placeholder:"add description",onChange:function(e){const{id:t,value:c}=e.target;o((e=>({...e,[t]:c})))},value:n.desc,required:!0}),Object(i.jsx)("label",{htmlFor:"desc",children:"Description"})]}),m?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsx)("div",{className:"text-center my-3",children:Object(i.jsx)("button",{className:"btn-success btn",type:"submit",onClick:function(e){if(void 0==O.id||null==O.id)return c({text:"Please Sign To Create Post",backgroundColor:"red"}),void l(!0);if(0==n.desc.length)return c({text:"Post Must Contain description",backgroundColor:"red"}),void l(!0);let t=new FormData;t.append("file",r),t.append("upload_preset","social-media"),t.append("cloud_name","asghadge"),x(!0),fetch("https://api.cloudinary.com/v1_1/asghadge/image/upload",{method:"post",body:t}).then((e=>e.json())).then((e=>{let t={postedById:O.id,photo:e.url,desc:n.desc};const a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("/api/post/new",a).then((e=>e.json())).then((e=>{c({text:"Post Created",backgroundColor:"green"}),l(!0),x(!1)})).catch((e=>{c({text:"Post Not created",backgroundColor:"red"}),l(!0),x(!1)}))})).catch((e=>{c({text:"Post Not created",backgroundColor:"red"}),l(!0),x(!1)}))},children:"Share Post"})})]})})}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:t.backgroundColor,color:"white",open:s,text:t.text,handleClickCloseSnackBar:function(){l(!1)}})]})};var G=e=>({type:"SAVEUSER",payload:e}),K=c(30),Q=c.n(K),X=c(202),Z=c(203),ee=c(204),te=c(205),ce=c(206),ae=c(207),se=c(201);var le=e=>{let[t,c]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[s,l]=Object(a.useState)(!1);const n={backgroundColor:"red",text:"Your Not Loggedin"};Object(g.f)();const o=Object(q.c)((e=>e.User));let[r,b]=Object(a.useState)(0);Object(a.useEffect)((()=>{e.handleChangeInPost(r)}),[r]);let[m,x]=Object(a.useState)(!1),[u,p]=Object(a.useState)(""),[f,v]=Object(a.useState)(!1);let[N,k]=Object(a.useState)(!1);let[w,C]=Object(a.useState)("");return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"container-center-all mx-3 my-4",children:Object(i.jsx)("div",{className:"card b-radius-card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-3 container-center-all",children:Object(i.jsx)("img",{src:e.val.postedBy.PicUrl,className:"user-post-small-pic"})}),Object(i.jsx)("div",{className:"col-6 d-flex align-item-center",children:Object(i.jsxs)("div",{className:"text-truncate",children:[Object(i.jsx)(j.b,{className:"navlink-post-profile",exact:!0,to:`profile/${e.val.postedBy._id}`,children:Object(i.jsx)("h3",{className:"navlink-post-profile mb-0",children:e.val.postedBy.username})}),Object(i.jsx)("p",{className:"full-name-post-profile",children:`${e.val.postedBy.fname} ${e.val.postedBy.lname}`})]})}),Object(i.jsx)("div",{className:"col-3 container-center-all",children:Object(i.jsx)("p",{className:"date-post",children:Q()(e.val.created).format("H:mm a, MMMM Do YYYY")})})]}),Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)("img",{src:e.val.photo,className:"image-post",alt:"profile-pic"})}),Object(i.jsx)("div",{className:"image-post m-0",children:Object(i.jsx)("p",{className:"desc-post text-muted",children:e.val.desc})}),e.val.likes.includes(o._id)?Object(i.jsxs)(se.a,{onClick:t=>{((e,t)=>{if(!o._id)return c(n),l(!0);const a={token:localStorage.getItem("token"),idOfPost:t};O.a.post("/api/post/like/remove",a).then((e=>(b(++r),c({backgroundColor:"gold",text:"you dislike post"}),l(!0)))).catch((e=>{console.log(e),alert(e)}))})(0,e.val._id)},children:[Object(i.jsx)(X.a,{style:{color:"red"}}),Object(i.jsx)("span",{className:"mx-2",children:e.val.likes.length})]}):Object(i.jsxs)(se.a,{onClick:t=>{((e,t)=>{if(!o._id)return c(n),l(!0);const a={token:localStorage.getItem("token"),idOfPost:t};O.a.post("/api/post/like/add",a).then((e=>(b(++r),c({backgroundColor:"green",text:"You Liked Post"}),l(!0)))).catch((e=>(c({backgroundColor:"red",text:"Please Logged in Again"}),l(!0))))})(0,e.val._id)},children:[Object(i.jsx)(Z.a,{}),"                            ",Object(i.jsx)("span",{className:"mx-2",children:e.val.likes.length})]}),Object(i.jsxs)(se.a,{onClick:t=>{!function(e,t){v(!0),x(!m);const c={idOfPost:t};O.a.post("/api/post/comment",c).then((e=>{p(e.data.comments),v(!1)})).catch((e=>{console.log(e),v(!1)}))}(0,e.val._id)},children:[Object(i.jsx)(ee.a,{}),Object(i.jsx)("span",{className:"mx-2",children:e.val.comments.length})]}),Object(i.jsx)(se.a,{onClick:t=>{e.val._id,k(!N)},children:Object(i.jsx)(te.a,{})}),Object(i.jsx)("div",{className:"ml-3",children:m?f?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):u.map(((t,a)=>Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"p-1 post-box-content-limiter",children:[Object(i.jsx)("h6",{className:"comment-text",children:t.text}),Object(i.jsxs)("div",{className:"row justify-content-between",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)(j.b,{className:"comment-username text-muted",exact:!0,to:`profile/${t.postedBy._id}`,children:Object(i.jsx)("p",{className:"m-0",children:t.postedBy.username})}),Object(i.jsx)("p",{className:"date-post text-muted m-0",children:Q()(t.created).format("H:mm a, MMMM Do YYYY")})]}),Object(i.jsx)("div",{className:"col",children:o._id===t.postedBy._id?Object(i.jsx)("button",{className:"btn",onClick:a=>{!function(t,a,s){if(!o._id)return c(n),l(!0);if(o._id!==s)return c({backgroundColor:"red",text:"your not owner of comment so you will not able to delete it"}),l(!0);const i={idOfPost:e.val._id,idOfComment:a,idOfCommentor:o._id};O.a.post("/api/post/comment/remove",i).then((e=>(b(++r),c({backgroundColor:"red",text:"Comment Removed"}),x(!1),l(!0)))).catch((e=>{console.log(e)}))}(0,t._id,t.postedBy._id)},children:Object(i.jsx)(ce.a,{style:{color:"red",fontSize:"0.8rem"}})}):null})]})]})}))):null}),Object(i.jsx)("div",{className:"comment-box",children:N?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{className:"comment-input-field",type:"text",onChange:function(e,t){C(e.target.value)},value:w}),Object(i.jsx)(se.a,{onClick:t=>{!function(e,t){const a={token:localStorage.getItem("token"),idOfPost:t,text:w};O.a.post("/api/post/comment/add",a).then((e=>(C(""),k(!N),b(++r),c({backgroundColor:"green",text:"You commented on Post"}),l(!0)))).catch((e=>{b(++r),console.log(e)}))}(0,e.val._id)},children:Object(i.jsx)(ae.a,{})})]}):null}),Object(i.jsx)("button",{className:"btn btn-outline-danger mt-3",style:{width:"100%"},onClick:function(t){const a=`/api/post/delete/${e.val._id}`;O.a.post(a,{}).then((e=>{b(++r),c({backgroundColor:"red",text:"Post Deleted"}),l(!0)})).catch((e=>{console.log(e)}))},children:"Delete"})]})})}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:t.backgroundColor,color:"white",open:s,text:t.text,handleClickCloseSnackBar:function(){l(!1)}})]})};const ne=Object(C.a)((e=>({profileButtonFollow:{color:"purple",backgroundColor:"#ffaaff","&:hover":{color:"white",backgroundColor:"#ff88ff"}}})));var oe=()=>{ne();const e=Object(q.b)();Object(q.c)((e=>e.User));let t=Object(g.f)(),[c,s]=Object(a.useState)(!1),[l,n]=Object(a.useState)([]),[o,r]=Object(a.useState)([]),[d,b]=Object(a.useState)({fname:"",lname:"",email:"",username:"",password:"",PicUrl:""}),[m,x]=Object(a.useState)(0);function u(e){x(e)}let[p,f]=Object(a.useState)([]),[v,N]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{s(!0);let c=localStorage.getItem("token");O.a.post("/api/dashboard/profile",{token:c}).then((t=>{b(t.data),n(t.data.followers),r(t.data.following),e(G(t.data)),s(!1)})).catch((e=>{console.log(e),s(!1),t.push("/sign")}))}),[]),Object(a.useEffect)((()=>{N(!0);const e={token:localStorage.getItem("token")};O.a.post("/api/post/myposts",e).then((e=>{f(e.data),N(!1)})).catch((e=>{console.log(e),N(!1)}))}),[m]),Object(i.jsxs)(i.Fragment,{children:[c?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-md-6 container-center-all",children:Object(i.jsx)("img",{className:"profile-pic-main mt-3 mt-md-0",src:d.PicUrl,width:"100px",height:"100px",alt:"profile-pic"})}),Object(i.jsx)("div",{className:"col-12 col-md-6 p-3",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsx)("div",{className:"card-body",children:Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("h3",{className:"mb-0",children:d.username}),Object(i.jsxs)("p",{className:"text-muted mb-0",children:[d.fname," ",d.lname]}),Object(i.jsx)("p",{className:"",children:d.email}),Object(i.jsx)("p",{className:"px-4",children:d.about}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("a",{className:"col-4 profile-info-stat",href:"#profileMyPostContainer",children:[Object(i.jsxs)("span",{children:[" ",p.length]})," Posts"]}),Object(i.jsx)(j.b,{className:"col-4 profile-info-stat",exact:!0,to:`/profile/${d._id}/followers/`,children:Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:l.length}),"Followers"]})}),Object(i.jsx)(j.b,{className:"col-4 profile-info-stat",exact:!0,to:`/profile/${d._id}/following/`,children:Object(i.jsxs)("p",{children:[Object(i.jsxs)("span",{children:[" ",o.length]}),"Following"]})})]})]})})})})]}),Object(i.jsx)("div",{id:"profileMyPostContainer",children:v?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):p.map(((e,t)=>Object(i.jsx)(le,{val:e,handleChangeInPost:u},e._id)))})]})};var re=()=>{let[e,t]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[c,s]=Object(a.useState)(!1);let l=Object(g.f)(),[n,o]=Object(a.useState)(!1),[r,j]=Object(a.useState)({fname:"",lname:"",email:"",username:"",password:"",PicUrl:"",_id:""}),m=localStorage.getItem("token");Object(a.useEffect)((()=>{o(!0);O.a.post("/api/dashboard/profile-edit",{token:m}).then((e=>{j(e.data),o(!1)})).catch((e=>{o(!1),l.push("/sign")}))}),[]);let[x,u]=Object(a.useState)(null);function p(e){const{id:t,value:c}=e.target;j((e=>({...e,[t]:c})))}const[f,N]=Object(a.useState)(!1);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{heading:"Profile Settings",base:"Dashboard",url:"profile"}),n?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-fluid px-5",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h1",{className:"heading-auth mt-2 mb-4",children:"Update"}),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"row px-2",children:[Object(i.jsxs)("div",{className:"col-12 col-md-6 pr-2",children:[Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",id:"fname",placeholder:"john",value:r.fname,onChange:p,required:!0}),Object(i.jsx)("label",{htmlFor:"fname",children:"First name"})]}),Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("textarea",{type:"text",id:"about",className:"form-control",value:r.about,onChange:p,placeholder:"about ..."}),Object(i.jsx)("label",{htmlFor:"about",children:"About"})]})]}),Object(i.jsxs)("div",{className:"col-12 col-md-6 px-0",children:[Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",id:"lname",placeholder:"doe",value:r.lname,onChange:p,style:{boxShadow:"none"},required:!0}),Object(i.jsx)("label",{htmlFor:"lname",children:"Last name"})]}),Object(i.jsxs)("div",{className:"row text-center text-md-start",children:[Object(i.jsxs)("div",{className:"col-12  col-md-6 mb-3 mb-md-0",children:[Object(i.jsx)("label",{htmlFor:"postPic",className:"input-file-dash p-2 m-0 mx-md-4",children:"Upload Here"}),Object(i.jsx)("input",{type:"file",id:"postPic",className:"input-file-dash",onChange:function(e){u(e.target.files[0])},accept:"image/*"})]}),Object(i.jsx)("div",{className:"col-12 col-md-6 mb-3 mb-md-0",children:f?Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})}):Object(i.jsx)("button",{className:"btn btn-outline-success",onClick:function(e){let c=new FormData;c.append("file",x),c.append("upload_preset","social-media"),c.append("cloud_name","asghadge"),N(!0),fetch("https://api.cloudinary.com/v1_1/asghadge/image/upload",{method:"post",body:c}).then((e=>e.json())).then((e=>{const c={id:r._id,update:{PicUrl:e.url},token:m};O.a.post("/api/dashboard/edit-dp",c).then((e=>{t({text:"Profile Updated",backgroundColor:"green"}),N(!1),s(!0)})).catch((e=>{console.log(e),t({text:"No Update",backgroundColor:"red"}),s(!0),N(!1)}))})).catch((e=>{N(!1),console.log(e)}))},children:"Change Image"})})]})]})]})}),Object(i.jsx)("p",{className:"modal-button text-center d-block","data-bs-toggle":"modal","data-bs-target":"#forget-modal",children:"Change Password"}),Object(i.jsx)("div",{class:"modal fade",id:"forget-modal","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(i.jsx)("div",{class:"modal-dialog modal-dialog-centered",children:Object(i.jsxs)("div",{class:"modal-content",children:[Object(i.jsxs)("div",{class:"modal-header",children:[Object(i.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Change Password"}),Object(i.jsx)("button",{type:"button",class:"btn-close btn-outline-danger","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(i.jsx)("div",{class:"modal-body",children:Object(i.jsx)(v,{openSnackBarForgetPassword:function(e){e?(t({text:"Link Send Successfully please check email",backgroundColor:"green"}),s(!0)):(t({text:"Fail send link please enter valid email",backgroundColor:"red"}),s(!0))}})})]})})}),Object(i.jsx)("div",{className:"d-flex justify-content-center mb-5",children:Object(i.jsx)("button",{className:"d-block w-50 btn btn-outline-success",onClick:function(e){if(r.fname.length<3||r.lname.length<3)t({text:"First and Last name must have atleast 3 letters",backgroundColor:"red"}),s(!0);else{o(!0);const e="/api/dashboard/edit",c={id:r._id,update:r,token:m};O.a.post(e,c).then((e=>{t({text:"Profile Updated",backgroundColor:"green"}),s(!0),o(!1)})).catch((e=>{console.log(e),t({text:"No Update",backgroundColor:"red"}),s(!0),o(!1)}))}},children:"Update Changes"})})]})})})}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:e.backgroundColor,color:"white",open:c,text:e.text,handleClickCloseSnackBar:function(){s(!1)}})]})};var ie=()=>{const{token:e}=Object(g.g)();let[t,c]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[s,l]=Object(a.useState)(!1),[n,o]=Object(a.useState)(!1),[r,j]=Object(a.useState)("");return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{heading:"Reset Password",base:"Home",url:""}),s?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"cotainer-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-fluid px-5",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h1",{className:"heading-auth mt-2 mb-4",children:"Set New Password"}),Object(i.jsxs)("div",{className:"p-4",children:[Object(i.jsxs)("div",{className:"form-floating mb-3",children:[Object(i.jsx)("input",{type:"password",id:"reset-password",placeholder:"temp",className:"form-control",value:r,onChange:function(e){j(e.target.value)}}),Object(i.jsx)("label",{htmlFor:"reset-password",children:"Enter New Password"})]}),Object(i.jsx)("div",{className:"text-center mt-3",children:Object(i.jsx)("button",{className:"btn btn-outline-success",onClick:function(t){if(r.length<=5&&(c({text:"Password should contain atleast 6 letters",backgroundColor:"red"}),o(!0),1))return;l(!0);const a={token:e,newPassword:r};u.changePasswordAPI(a).then((e=>{c({text:"Email is Sent",backgroundColor:"green"}),o(!0),l(!1)})).catch((e=>{c({text:"Email is not Sent error occured",backgroundColor:"red"}),o(!0),l(!1)}))},children:"Set Password"})})]})]})})})}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:t.backgroundColor,color:"white",open:n,text:t.text,handleClickCloseSnackBar:function(){o(!1)}})]})};const de=e=>Q()(e).format("H:mm a, MM Do YY");var je=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-3 container-center-all",children:Object(i.jsx)("img",{src:e.val.postedBy.PicUrl,className:"user-post-small-pic",alt:"profile-pic"})}),Object(i.jsx)("div",{className:"col-6 d-flex align-item-center",children:Object(i.jsxs)("div",{className:"text-truncate",children:[Object(i.jsx)(j.b,{className:"navlink-post-profile",exact:!0,to:`/profile/${e.val.postedBy._id}`,children:Object(i.jsx)("h6",{className:"navlink-post-profile mb-0",children:e.val.postedBy.username})}),Object(i.jsx)("p",{className:"full-name-post-profile",children:`${e.val.postedBy.fname} ${e.val.postedBy.lname}`})]})}),Object(i.jsx)("div",{className:"col-3 container-center-all",children:Object(i.jsx)("p",{className:"date-post",children:de(e.val.created)})})]})});var be=e=>{let[t,c]=Object(a.useState)(!1),[s,l]=Object(a.useState)({text:"hello world",backgroundColor:"black"});function n(t,a,s){if(!e.LoggedUser._id)return l({backgroundColor:"red",text:"Your Not Loggedin"}),c(!0);if(e.LoggedUser._id!==s)return l({backgroundColor:"red",text:"your not owner of comment so you will not able to delete it"}),c(!0);const n={idOfPost:e.idOfPost,idOfComment:a,idOfCommentor:e.LoggedUser._id};u.RemoveComment(n).then((()=>{e.closeCommentBox(),l({backgroundColor:"red",text:"Comment Removed"}),c(!0)})).catch((e=>{console.log(e)}))}return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"ml-3",children:[e.showCommentButton?e.commentLoading?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):e.commentInfo.map(((t,c)=>Object(i.jsxs)("div",{className:"p-1 post-box-content-limiter",children:[Object(i.jsx)("h6",{className:"comment-text",children:t.text}),Object(i.jsxs)("div",{className:"row justify-content-between",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)(j.b,{className:"comment-username text-muted",exact:!0,to:`profile/${t.postedBy._id}`,children:Object(i.jsx)("p",{className:"m-0",children:t.postedBy.username})}),Object(i.jsx)("p",{className:"date-post text-muted m-0",children:de(t.created)})]}),Object(i.jsx)("div",{className:"col",children:e.LoggedUser._id===t.postedBy._id?Object(i.jsx)("button",{className:"btn",onClick:e=>{n(0,t._id,t.postedBy._id)},children:Object(i.jsx)(ce.a,{className:"text-danger btn-custom-sm"})}):null})]})]},t._id))):null,Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:s.backgroundColor,color:"white",open:t,text:s.text,handleClickCloseSnackBar:function(){c(!1)}})]})})};var me=e=>{const t=Object(q.c)((e=>e.User));let[c,s]=Object(a.useState)(!1),[l,n]=Object(a.useState)({text:"hello world",backgroundColor:"black"});const o={backgroundColor:"red",text:"Your Not Loggedin"};let[r,j]=Object(a.useState)(0),[b,m]=Object(a.useState)(!1),[h,x]=Object(a.useState)(""),[O,p]=Object(a.useState)(!1),[g,f]=Object(a.useState)(!1),[v,N]=Object(a.useState)("");function k(){return!t._id}Object(a.useEffect)((()=>{e.handleChangeInPost(r)}),[r]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"container-center-all mx-3 my-4",children:Object(i.jsx)("div",{className:"card b-radius-card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)(je,{val:e.val}),Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)("img",{src:e.val.photo,className:"image-post",alt:"profile-pic"})}),Object(i.jsx)("div",{className:"image-post m-0",children:Object(i.jsx)("p",{className:"desc-post text-muted",children:e.val.desc})}),e.val.likes.includes(t._id)?Object(i.jsxs)(se.a,{onClick:t=>{((e,t)=>{if(k())return n(o),s(!0);const c={token:localStorage.getItem("token"),idOfPost:t};u.RemoveLike(c).then((()=>{j(++r),n({backgroundColor:"purple",text:"You dislike post"}),s(!0)})).catch((e=>{console.log(e),alert(e)}))})(0,e.val._id)},children:[Object(i.jsx)(X.a,{className:"text-danger"}),Object(i.jsx)("span",{className:"mx-2",children:e.val.likes.length})]}):Object(i.jsxs)(se.a,{onClick:t=>{((e,t)=>{if(k())return n(o),s(!0);const c={token:localStorage.getItem("token"),idOfPost:t};u.AddLike(c).then((()=>{j(++r),n({backgroundColor:"green",text:"You Liked Post"}),s(!0)})).catch((e=>{console.log(e)}))})(0,e.val._id)},children:[Object(i.jsx)(Z.a,{}),Object(i.jsx)("span",{className:"mx-2",children:e.val.likes.length})]}),Object(i.jsxs)(se.a,{onClick:t=>{!async function(e,t){m(!b),p(!0);const c={idOfPost:t};let a=await u.getComments(c);x(a),p(!1)}(0,e.val._id)},children:[Object(i.jsx)(ee.a,{}),Object(i.jsx)("span",{className:"mx-2",children:e.val.comments.length})]}),Object(i.jsx)(se.a,{onClick:t=>{e.val._id,f(!g)},children:Object(i.jsx)(te.a,{})}),Object(i.jsx)(be,{LoggedUser:t,showCommentButton:b,idOfPost:e.val._id,commentLoading:O,commentInfo:h,closeCommentBox:function(){j(++r),m(!1)}}),Object(i.jsx)("div",{className:"container-center-all",children:g?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{className:"comment-input-field",type:"text",onChange:function(e,t){N(e.target.value)},value:v}),Object(i.jsx)(se.a,{onClick:t=>{!function(e,t){if(0===v.length)return l({backgroundColor:"red",text:"Empty Text !!!"}),s(!0);const c={token:localStorage.getItem("token"),idOfPost:t,text:v};u.AddComment(c).then((()=>{N(""),f(!g),m(!1),j(++r),n({backgroundColor:"green",text:"You commented on Post"}),s(!0)})).catch((e=>{j(++r),n(o),s(!0)}))}(0,e.val._id)},children:Object(i.jsx)(ae.a,{})})]}):null})]})})}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:l.backgroundColor,color:"white",open:c,text:l.text,handleClickCloseSnackBar:function(){s(!1)}})]})};var he=e=>{let[t,c]=Object(a.useState)([]),[s,l]=Object(a.useState)(0);function n(e){l(e)}return Object(a.useEffect)((async()=>{let e=await u.getAllPosts();c(e)}),[s]),Object(a.useEffect)((()=>{const a=[...t];"date-sort"===e.sortBy?a.sort((function(e,t){return new Date(t.created)-new Date(e.created)})):"top-sort"===e.sortBy&&a.sort((function(e,t){return t.likes.length-e.likes.length})),c(a)}),[e.sortBy]),Object(i.jsx)(i.Fragment,{children:void 0===t?null:t.map(((e,t,c)=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(me,{val:e,index:t,handleChangeInPost:n},e._id)})))})};var xe=()=>{let[e,t]=Object(a.useState)(!1),[c,s]=Object(a.useState)([]);return Object(a.useEffect)((async function(){t(!0);let e=await u.getAllUsers();s(e),t(!1)}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"mt-3",children:Object(i.jsx)("div",{className:"all-user-container",children:e?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):c.map(((e,t)=>Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"decoration-none mx-3 text-center",children:[Object(i.jsx)("img",{src:e.PicUrl,className:"all-user-image",alt:"user pic"}),Object(i.jsx)(j.b,{className:"decoration-none  text-dark font-weight-bold",to:`/profile/${e._id}`,children:Object(i.jsx)("p",{className:"mb-0",children:e.username})},t)]},e._id)})))})})})};var Oe=()=>{let[e,t]=Object(a.useState)(!1),[c,s]=Object(a.useState)([]);return Object(a.useEffect)((async()=>{t(!0);let e=await u.getAllUsers();s(e),t(!1)}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"card b-radius-card mx-2 mt-3",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h5",{className:"heading-home text-center p-2",children:"You should follow "}),Object(i.jsx)("hr",{}),e?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):c.map(((e,t)=>Object(i.jsxs)("div",{className:"row decoration-none text-center",children:[Object(i.jsx)("div",{className:"col-5 container-center-all",children:Object(i.jsx)("img",{src:e.PicUrl,className:"all-user-image",alt:"user pic"})}),Object(i.jsxs)("div",{className:"col-7",children:[Object(i.jsx)(j.b,{className:"decoration-none  text-dark font-weight-bold",to:`/profile/${e._id}`,children:Object(i.jsx)("p",{className:"mb-1 text-truncate",children:e.username})},t),Object(i.jsx)(j.b,{to:`/profile/${e._id}`,children:Object(i.jsx)("button",{className:"btn btn-default",children:"Follow"})})]}),Object(i.jsx)("hr",{className:"my-3"})]},e._id)))]})})})},ue=c(208),pe=c(209),ge=c(210),fe=c(211);var ve=()=>Object(i.jsx)("div",{className:"card b-radius-card mx-2 mt-3",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h5",{className:"heading-home text-center p-2",children:"Activities "}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)(j.b,{to:"/profile",children:Object(i.jsxs)("button",{className:"btn btn-outline-default btn-activity",children:[Object(i.jsx)(ue.a,{}),Object(i.jsx)("span",{className:"d-block",children:"Profile"})]})}),Object(i.jsx)(j.b,{to:"/notifications",children:Object(i.jsxs)("button",{className:"btn btn-outline-default btn-activity",children:[Object(i.jsx)(pe.a,{}),Object(i.jsx)("span",{className:"d-block",children:"Notify"})]})}),Object(i.jsx)(j.b,{to:"/messages",children:Object(i.jsxs)("button",{className:"btn btn-outline-default btn-activity",children:[Object(i.jsx)(ge.a,{}),Object(i.jsx)("span",{className:"d-block",children:"Messages"})]})}),Object(i.jsx)(j.b,{to:"/create-post",children:Object(i.jsxs)("button",{className:"btn btn-outline-default btn-activity",children:[Object(i.jsx)(fe.a,{}),Object(i.jsx)("span",{className:"d-block",children:"Create"})]})})]})]})});var Ne=()=>{const e=Object(q.b)();let[t,c]=Object(a.useState)(!1),[s,l]=Object(a.useState)("all-sort");function n(e){l(e.target.id)}return Object(a.useEffect)((()=>{let t=localStorage.getItem("token");c(!0);O.a.post("/api/dashboard/profile",{token:t}).then((t=>{c(!1),e(G(t.data))})).catch((e=>{c(!1),console.log(e)}))}),[]),Object(i.jsx)(i.Fragment,{children:t?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"row container-center-all",children:Object(i.jsx)("div",{className:"col-md-6 col-12",children:Object(i.jsx)(xe,{})})}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-3 col-12 d-none d-md-block",children:Object(i.jsx)(ve,{})}),Object(i.jsxs)("div",{className:"col-md-6 col-12",children:[Object(i.jsx)("div",{className:"container-center-all m-0",children:Object(i.jsx)("hr",{width:"95%"})}),Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)("h3",{className:"mx-4 my-2 font-weight-bold",children:"Feeds"}),Object(i.jsxs)("div",{className:"d-flex mx-4 my-2 font-20 cursor-pointer",children:[Object(i.jsx)("p",{onClick:n,id:"all-sort",className:("all-sort"===s?"active-feed-type":"")+" mx-1",children:"All"}),Object(i.jsx)("p",{onClick:n,id:"top-sort",className:("top-sort"===s?"active-feed-type":"")+" mx-1",children:"Top"}),Object(i.jsx)("p",{onClick:n,id:"date-sort",className:("date-sort"===s?"active-feed-type":"")+" mx-1",children:"Recent"})]})]}),Object(i.jsx)(he,{sortBy:s})]}),Object(i.jsx)("div",{className:"col-md-3 col-12 d-none d-md-block",children:Object(i.jsx)(Oe,{})})]})]})})};var ke=e=>{let[t,c]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[s,l]=Object(a.useState)(!1);const n={backgroundColor:"red",text:"Your Not Loggedin"},o=Object(q.c)((e=>e.User));let[r,b]=Object(a.useState)(0);Object(a.useEffect)((()=>{e.handleChangeInPost(r)}),[r]);let[m,x]=Object(a.useState)(!1),[u,p]=Object(a.useState)(""),[g,f]=Object(a.useState)(!1);let[v,N]=Object(a.useState)(!1);let[k,w]=Object(a.useState)("");return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"container-center-all mx-3 my-4",children:Object(i.jsx)("div",{className:"card b-radius-card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-3 container-center-all",children:Object(i.jsx)("img",{src:e.val.postedBy.PicUrl,className:"user-post-small-pic",alt:"User Profile Pictrue"})}),Object(i.jsx)("div",{className:"col-6 d-flex align-item-center",children:Object(i.jsxs)("div",{className:"text-truncate",children:[Object(i.jsx)(j.b,{className:"navlink-post-profile",exact:!0,to:`/profile/${e.val.postedBy._id}`,children:Object(i.jsx)("h6",{className:"navlink-post-profile mb-0",children:e.val.postedBy.username})}),Object(i.jsx)("p",{className:"full-name-post-profile",children:`${e.val.postedBy.fname} ${e.val.postedBy.lname}`})]})}),Object(i.jsx)("div",{className:"col-3 container-center-all",children:Object(i.jsx)("p",{className:"date-post",children:Q()(e.val.created).format("H:mm a, MMMM Do YYYY")})})]}),Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)("img",{src:e.val.photo,className:"image-post",alt:"profile-pic"})}),Object(i.jsx)("div",{className:"image-post m-0",children:Object(i.jsx)("p",{className:"desc-post text-muted",children:e.val.desc})}),e.val.likes.includes(o._id)?Object(i.jsxs)(se.a,{onClick:t=>{((e,t)=>{if(!o._id)return c(n),l(!0);const a={token:localStorage.getItem("token"),idOfPost:t};O.a.post("/api/post/like/remove",a).then((e=>{b(++r),c({backgroundColor:"gold",text:"you dislike post"}),l(!0)})).catch((e=>{console.log(e),alert(e)}))})(0,e.val._id)},children:[Object(i.jsx)(X.a,{style:{color:"red"}}),Object(i.jsx)("span",{className:"mx-2",children:e.val.likes.length})]}):Object(i.jsxs)(se.a,{onClick:t=>{((e,t)=>{if(!o._id)return c(n),l(!0);const a={token:localStorage.getItem("token"),idOfPost:t};O.a.post("/api/post/like/add",a).then((e=>{b(++r),c({backgroundColor:"green",text:"You Liked Post"}),l(!0)})).catch((e=>{console.log(e),alert(e)}))})(0,e.val._id)},children:[Object(i.jsx)(Z.a,{}),Object(i.jsx)("span",{className:"mx-2",children:e.val.likes.length})]}),Object(i.jsxs)(se.a,{onClick:t=>{!function(e,t){f(!0),x(!m);const c={idOfPost:t};O.a.post("/api/post/comment",c).then((e=>{p(e.data.comments),f(!1)})).catch((e=>{console.log(e),f(!1)}))}(0,e.val._id)},children:[Object(i.jsx)(ee.a,{}),Object(i.jsx)("span",{className:"mx-2",children:e.val.comments.length})]}),Object(i.jsx)(se.a,{onClick:t=>{e.val._id,N(!v)},children:Object(i.jsx)(te.a,{})}),Object(i.jsx)("div",{className:"ml-3",children:m?g?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):u.map(((t,a)=>Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"p-1 post-box-content-limiter",children:[Object(i.jsx)("h6",{className:"comment-text",children:t.text}),Object(i.jsxs)("div",{className:"row justify-content-between",children:[Object(i.jsxs)("div",{className:"col",children:[Object(i.jsx)(j.b,{className:"comment-username text-muted",exact:!0,to:`profile/${t.postedBy._id}`,children:Object(i.jsx)("p",{className:"m-0",children:t.postedBy.username})}),Object(i.jsx)("p",{className:"date-post text-muted m-0",children:Q()(t.created).format("H:mm a, MMMM Do YYYY")})]}),Object(i.jsx)("div",{className:"col",children:o._id===t.postedBy._id?Object(i.jsx)("button",{className:"btn",onClick:a=>{!function(t,a,s){if(!o._id)return c(n),l(!0);if(o._id!==s)return c({backgroundColor:"red",text:"your not owner of comment so you will not able to delete it"}),l(!0);const i={idOfPost:e.val._id,idOfComment:a,idOfCommentor:o._id};O.a.post("http://localhost:5000/api/post/comment/remove",i).then((e=>(b(++r),c({backgroundColor:"red",text:"Comment Removed"}),x(!1),l(!0)))).catch((e=>{console.log(e)}))}(0,t._id,t.postedBy._id)},children:Object(i.jsx)(ce.a,{style:{color:"red",fontSize:"0.8rem"}})}):null})]})]})}))):null}),Object(i.jsx)("div",{className:"comment-box",children:v?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{className:"comment-input-field",type:"text",onChange:function(e,t){w(e.target.value)},value:k}),Object(i.jsx)(se.a,{onClick:t=>{!function(e,t){const a={token:localStorage.getItem("token"),idOfPost:t,text:k};O.a.post("http://localhost:5000/api/post/comment/add",a).then((e=>(w(""),N(!v),b(++r),c({backgroundColor:"green",text:"You commented on Post"}),l(!0)))).catch((e=>{b(++r),console.log(e)}))}(0,e.val._id)},children:Object(i.jsx)(ae.a,{})})]}):null})]})})}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:t.backgroundColor,color:"white",open:s,text:t.text,handleClickCloseSnackBar:function(){l(!1)}})]})};var we=()=>{let e=Object(g.f)(),t=Object(g.g)();const c=Object(q.c)((e=>e.User));c._id===t.id&&e.push("/profile");let[s,l]=Object(a.useState)(!1),[n,o]=Object(a.useState)({fname:"",lname:"",email:"",username:"",password:"",PicUrl:""}),[r,b]=Object(a.useState)({text:"hello world",backgroundColor:"black"}),[m,x]=Object(a.useState)(!1),[u,p]=Object(a.useState)([]),[f,v]=Object(a.useState)([]),[N,k]=Object(a.useState)(!0),[w,C]=Object(a.useState)(!1),[y,S]=Object(a.useState)(0),[F,P]=Object(a.useState)(1),[_,U]=Object(a.useState)(!1),[B,I]=Object(a.useState)([]);function L(e){return 0===Object.entries(e).length&&e.constructor===Object}function M(e){S(e)}return Object(a.useEffect)((()=>{l(!0);const e={id:t.id};O.a.post("/api/user/public-profile",e).then((e=>{o(e.data)})).catch((e=>{console.log(e),alert(e)}))}),[]),Object(a.useEffect)((()=>{const e={userId:t.id};O.a.post("/api/follow/followers/all",e).then((e=>{p(e.data.followers),!L(c)&&e.data.followers.some((e=>e._id===c._id))?C(!0):C(!1),k(!1),l(!1)})).catch((e=>{l(!1),console.log(e)})),O.a.post("/api/follow/following/all",e).then((e=>{l(!1),v(e.data.following)})).catch((e=>{l(!1),console.log(e)}))}),[F]),Object(a.useEffect)((()=>{U(!0);const e={id:t.id};O.a.post("/api/post/public-user-posts",e).then((e=>{I(e.data),U(!1)})).catch((e=>{console.log(e),U(!1)}))}),[y]),Object(i.jsxs)(i.Fragment,{children:[s?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-12 col-md-6 container-center-all",children:Object(i.jsx)("img",{className:"profile-pic-main mt-3 mt-md-0 shadow-sm",src:n.PicUrl,width:"100px",height:"100px",alt:"profile-pic"})}),Object(i.jsx)("div",{className:"col-12 col-md-6 p-3",children:Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("h3",{className:"mb-0",children:n.username}),Object(i.jsxs)("p",{className:"text-muted",children:[n.fname," ",n.lname]}),Object(i.jsx)("p",{className:"px-4",children:n.about})]}),Object(i.jsxs)("div",{className:"my-3 text-center",children:[N?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):w?Object(i.jsx)("button",{className:"btn btn-default",onClick:e=>{!function(e,t){const c={token:localStorage.getItem("token"),userReceive:t};O.a.post("/api/follow/following/remove",c).then((e=>{P(F+1),b({text:"Succefully Unfollow User",backgroundColor:"green"}),x(!0)})).catch((e=>{console.log(e)}))}(0,n._id)},children:"Unfollow"}):Object(i.jsx)("button",{className:"btn btn-outline-default",onClick:e=>{!function(e,t){let a=localStorage.getItem("token");if(L(c))return b({text:"Your not LoggedIn",backgroundColor:"red"}),x(!0),0;C(!0);const s={token:a,userReceive:t};O.a.post("/api/follow/following/add",s).then((e=>{P(1+ ++F),b({text:"Succefully Follow User",backgroundColor:"green"}),x(!0)})).catch((e=>{alert(e),console.log(e)}))}(0,n._id)},children:"Follow"}),Object(i.jsx)(j.b,{to:"/messages",className:"decoration-none",children:Object(i.jsx)("button",{className:"btn btn-outline-primary mx-3",children:"Message"})})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("a",{className:"col-4 profile-info-stat",href:"#profileMyPostContainer",children:[Object(i.jsxs)("span",{children:[" ",B.length]})," Posts"]}),Object(i.jsx)(j.b,{className:"col-4 profile-info-stat",exact:!0,to:`/profile/${t.id}/followers/`,children:Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:u.length}),"Followers"]})}),Object(i.jsx)(j.b,{className:"col-4 profile-info-stat",exact:!0,to:`/profile/${t.id}/following/`,children:Object(i.jsxs)("p",{children:[Object(i.jsxs)("span",{children:[" ",f.length]}),"Following"]})})]})]})})})]}),Object(i.jsx)("div",{id:"profileMyPostContainer",children:_?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):B.map(((e,t)=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(ke,{val:e,handleChangeInPost:M},e.id)})))}),Object(i.jsx)(d,{vertical:"top",horizontal:"right",backgroundColor:r.backgroundColor,color:"white",open:m,text:r.text,handleClickCloseSnackBar:function(){x(!1)}})]})};var Ce=()=>{let[e,t]=Object(a.useState)(!1),[c,s]=Object(a.useState)([]);const l=Object(g.g)();return Object(a.useEffect)((()=>{const e={userId:l.id};O.a.post("/api/follow/followers/all",e).then((e=>{s(e.data.followers),t(!1)})).catch((e=>{t(!1),console.log(e)}))}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{heading:"Followers",url:"profile",base:"Dashboard"}),e?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):0===c.length?Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"card shadow-sm flex-row",children:[Object(i.jsx)("div",{className:"card-image-top container-center-all p-3",children:Object(i.jsx)(ue.a,{})}),Object(i.jsx)("div",{className:"card-body d-flex",children:Object(i.jsx)("h4",{className:"card-title w-50 my-auto text-capitalize",children:"No Followers"})})]})}):Object(i.jsx)(i.Fragment,{children:c.map(((e,t)=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-fluid mb-3",children:Object(i.jsxs)("div",{className:"card shadow-sm flex-row",children:[Object(i.jsx)("div",{className:"card-image-top container-center-all p-3",children:Object(i.jsx)("img",{src:e.PicUrl,className:"user-post-small-pic",alt:"User Profile"})}),Object(i.jsxs)("div",{className:"card-body d-flex",children:[Object(i.jsx)(j.b,{className:"card-title font-20 w-50 my-auto text-capitalize navlink-post-profile",exact:!0,to:`/profile/${e._id}/`,children:Object(i.jsx)("h3",{className:"navlink-post-profile",children:e.username})}),Object(i.jsx)("p",{className:"card-text text-muted font-14 w-25 my-auto",children:`${e.fname} ${e.lname}`})]})]})})})))})]})};var ye=()=>{let[e,t]=Object(a.useState)(!1);const c=Object(g.g)();let[s,l]=Object(a.useState)([]);return Object(a.useEffect)((()=>{const e={userId:c.id};O.a.post("/api/follow/following/all",e).then((e=>{t(!1),l(e.data.following)})).catch((e=>{t(!1),console.log(e)}))}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{heading:"Following",url:"profile",base:"Dashboard"}),e?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):0===s.length?Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"card shadow-sm flex-row",children:[Object(i.jsx)("div",{className:"card-image-top container-center-all p-3",children:Object(i.jsx)(ue.a,{})}),Object(i.jsx)("div",{className:"card-body d-flex",children:Object(i.jsx)("h4",{className:"card-title w-50 my-auto text-capitalize",children:"No Followers"})})]})}):Object(i.jsx)(i.Fragment,{children:s.map(((e,t)=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-fluid mb-3",children:Object(i.jsxs)("div",{className:"card shadow-sm flex-row",children:[Object(i.jsx)("div",{className:"card-image-top container-center-all p-3",children:Object(i.jsx)("img",{src:e.PicUrl,className:"user-post-small-pic",alt:"user profile"})}),Object(i.jsxs)("div",{className:"card-body d-flex",children:[Object(i.jsx)(j.b,{className:"card-title font-20 w-50 my-auto text-capitalize navlink-post-profile",exact:!0,to:`/profile/${e._id}/`,children:Object(i.jsx)("h3",{className:"navlink-post-profile",children:e.username})}),Object(i.jsx)("p",{className:"card-text text-muted font-14 w-25 my-auto",children:`${e.fname} ${e.lname}`})]})]})})})))})]})},Se=c(100),Fe=c.n(Se);const Pe=s.a.createContext(),_e=Object(C.a)((e=>({profileButtonFollow:{color:"#220080",fontSize:"30px","&:hover":{color:"white",backgroundColor:"#220080"}}})));var Ue=e=>{const t=_e();let c=Object(g.f)();const s=Object(a.useContext)(Pe),l=Object(q.c)((e=>e.User));let[n,o]=Object(a.useState)([]),[r,d]=Object(a.useState)(1),[j,b]=Object(a.useState)(!1),[m,h]=Object(a.useState)(""),[x,u]=Object(a.useState)("");return Object(a.useEffect)((()=>{l._id||c.push("/profile");O.a.post("/api/chat/prev-messages",{SenderId:l._id,RecId:e.recUser}).then((e=>{null===e.data?o([]):o(e.data.chats)})).catch((e=>{console.log(e)}))}),[e.recUser,r]),Object(a.useEffect)((()=>{s.on("rec-message",(e=>{d(++r)})),s.on("rec-typing",(e=>{h(e.username),b(!0),setTimeout((()=>{b(!1)}),3e3)}))}),[e.recUser]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"chat-window-main",children:[Object(i.jsxs)("div",{className:"bg-white mx-3 mt-3 shadow-sm rounded-3",children:[Object(i.jsx)("h3",{className:"px-3 pt-3 mb-0 font-weight-bold",children:void 0===e.recUserName?"Self Chat :) ":e.recUserName}),Object(i.jsx)("p",{className:"px-3 pb-2 text-muted font-10",children:j?`${m} is typing...`:"Not Active"})]}),Object(i.jsx)("div",{className:"chat-window",children:0===n.length?Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)("p",{className:"chat-prev-no-chats text-muted",children:"No previous messages"})}):n.map(((e,t)=>l.username===e.sender.username?Object(i.jsx)("div",{className:"d-flex justify-content-end",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("p",{className:"chat-message-section-user",children:e.text}),Object(i.jsx)("p",{className:"chat-message-text text-end",children:e.sender.username}),Object(i.jsx)("p",{className:"chat-message-text text-end",children:de(e.created)})]})},e.created):Object(i.jsx)("div",{className:"d-flex justify-content-start px-3",children:Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("p",{className:"chat-message-section-user-2",children:e.text}),Object(i.jsx)("p",{className:"chat-message-text",children:e.sender.username}),Object(i.jsx)("p",{className:"chat-message-text",children:de(e.created)})]})},e.created)))}),Object(i.jsxs)("div",{className:"row justify-content-around px-3",children:[Object(i.jsx)("div",{className:"col-9",children:Object(i.jsx)("input",{type:"text",className:"form-control b-radius-input font-30",value:x,onChange:function(t){s.emit("typing",e.recUser),u(t.target.value)}})}),Object(i.jsx)("div",{className:"col-2",children:Object(i.jsx)("button",{className:"btn btn-outline-default rounded-2",onClick:function(t){const c={recipent:e.recUser,text:x};s.emit("send-message",c),d(++r),u("")},children:Object(i.jsx)(ae.a,{className:t.profileButtonFollow})})})]})]})})};var Be=e=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("li",{className:function(t){let c="shadow-sm p-3 cursor-pointer m-3 text-truncate";return t===e.chatUser?c+=" active-chat-member":c+=" ",c}(e.username),value:e.id,onClick:t=>{e.changeChatUser(t,e.id,e.username)},children:e.username})});var Ie=()=>{let e=Object(g.f)();const t=Object(q.c)((e=>e.User));let[c,s]=Object(a.useState)([]),[l,n]=Object(a.useState)("");function o(e,t,c){n({id:t,username:c})}return Object(a.useEffect)((()=>{t._id||e.push("/profile");t._id;O.a.post("/api/chat/user-list",{id:t._id}).then((e=>{s(e.data)})).catch((e=>{console.log(e)}))}),[]),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(Pe.Provider,{value:(r={id:t._id,username:t.username},Fe.a.connect("/",{query:{id:r.id,username:r.username}})),children:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-3",children:[Object(i.jsx)("h4",{className:"text-dark bg-transparent mb-0 p-3",children:"Inbox"}),Object(i.jsx)("p",{className:"text-muted px-3 mt-2",children:"All users"}),Object(i.jsx)("ul",{className:"list-style-none rounded-2 p-0 m-0",children:void 0!==c?c.map(((e,t)=>Object(i.jsx)(Be,{id:e._id,chatUser:l.username,username:e.username,changeChatUser:o},e._id))):null})]}),Object(i.jsx)("div",{className:"col-9 chat-window-main",children:Object(i.jsx)(Ue,{totalUsers:c,recUser:l.id,recUserName:l.username})})]})})})});var r};var Le=()=>{let[e,t]=Object(a.useState)(!1),[c,s]=Object(a.useState)([]),[l,n]=Object(a.useState)(0);return Object(a.useEffect)((()=>{let e=localStorage.getItem("token");if(null==e)n(0);else{t(!0);const c="/api/notification/all";O.a.post(c,{token:e}).then((e=>{t(!1),null==e.data||0==e.data.length||s(e.data),n(0)})).catch((e=>{t(!1)}))}}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b,{heading:"Notifications",url:"profile",base:"Dashboard"}),e?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-center-all",children:Object(i.jsx)(h.a,{type:"bubbles",color:"black",height:"10%",width:"10%"})})}):0==c.length?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)("div",{className:"card shadow-sm flex-row",children:[Object(i.jsx)("div",{className:"card-image-top container-center-all p-3",children:Object(i.jsx)(pe.a,{})}),Object(i.jsx)("div",{className:"card-body d-flex",children:Object(i.jsx)("h4",{className:"card-title w-50 my-auto text-capitalize",children:"No Notifications"})})]})})}):c.map(((e,t)=>Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container-fluid mb-3",children:Object(i.jsxs)("div",{className:"card shadow-sm flex-row",children:[Object(i.jsx)("div",{className:"card-image-top container-center-all p-3",children:Object(i.jsx)(pe.a,{})}),Object(i.jsxs)("div",{className:"card-body d-flex",children:[Object(i.jsx)("h4",{className:"card-title w-50 my-auto text-capitalize",children:e.notification}),Object(i.jsx)("p",{className:"card-text font-14 w-25 my-auto",children:Q()(e.createdAt).format("H:mm a, MMMM Do YYYY")})]})]})})})))]})};var Me=()=>Object(i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:Object(i.jsx)("p",{style:{fontFamily:"cursive",fontStyle:"oblique",fontWeight:"700",fontSize:"3rem"},children:"Hello you are out of the world!"})});var Ee=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(J,{}),Object(i.jsxs)(g.c,{children:[Object(i.jsx)(g.a,{exact:!0,path:"/",component:Ne}),Object(i.jsx)(g.a,{exact:!0,path:"/sign",component:w}),Object(i.jsx)(g.a,{exact:!0,path:"/match-otp",component:p}),Object(i.jsx)(g.a,{exact:!0,path:"/create-post",component:W}),Object(i.jsx)(g.a,{exact:!0,path:"/profile",component:oe}),Object(i.jsx)(g.a,{exact:!0,path:"/profile/:id",component:we}),Object(i.jsx)(g.a,{exact:!0,path:"/profile/:id/followers",component:Ce}),Object(i.jsx)(g.a,{exact:!0,path:"/profile/:id/following",component:ye}),Object(i.jsx)(g.a,{exact:!0,path:"/settings",component:re}),Object(i.jsx)(g.a,{path:"/reset-password/:token",component:ie}),Object(i.jsx)(g.a,{path:"/messages",component:Ie}),Object(i.jsx)(g.a,{path:"/notifications",component:Le}),Object(i.jsx)(g.a,{component:Me})]})]})};var Ye=e=>{e&&e instanceof Function&&c.e(3).then(c.bind(null,216)).then((t=>{let{getCLS:c,getFID:a,getFCP:s,getLCP:l,getTTFB:n}=t;c(e),a(e),s(e),l(e),n(e)}))},Re=c(57);var $e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return{...e,...t.payload}};var ze=Object(Re.a)({User:$e});var De=Object(Re.b)(ze);c(156),c(157);n.a.render(Object(i.jsx)(j.a,{children:Object(i.jsx)(q.a,{store:De,children:Object(i.jsx)(Ee,{})})}),document.getElementById("root")),Ye()}},[[158,1,2]]]);
//# sourceMappingURL=main.11ce31ce.chunk.js.map